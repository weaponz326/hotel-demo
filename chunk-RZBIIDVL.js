import{a as ye}from"./chunk-TZ4ME6VN.js";import{a as he}from"./chunk-HSAPCYZP.js";import{c as ue,d as xe}from"./chunk-FBWHH6JU.js";import"./chunk-GHO2QF7T.js";import{a as J}from"./chunk-TMGJ6XNB.js";import"./chunk-DQC53J6Z.js";import{a as q,b as w,c as x,d as Me}from"./chunk-UEPNQQPW.js";import{a as fe}from"./chunk-JRFFUKYU.js";import{a as E}from"./chunk-SCGM7UR2.js";import{a as $,b as z,c as N,d as P,e as pe}from"./chunk-3OLZPOF4.js";import{a as Ee,b as ne,c as H,d as oe,e as re,f as U,h as F,j as ae,k as De,l as le,m as se,n as me,o as ce,p as de,r as ke,u as Ie,v as Ve}from"./chunk-RQYECNT5.js";import{b as k,c as Le}from"./chunk-IMD2KKFX.js";import{A as Z,F as b,G as ee,Ga as Te,Ha as A,Ia as te,Ja as L,K as f,L as y,Q as ge,R as we,V as m,W as S,Za as G,_a as j,aa as O,ba as _e,ca as c,cb as ie,da as B,ja as o,ka as n,la as p,lb as Re,ma as C,mb as D,na as d,oa as V,qb as be,ta as g,ua as _,va as v,wa as ve,xa as s,ya as R}from"./chunk-TK5UYZ3D.js";var Qe=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-amenities"]],decls:1,vars:0,template:function(i,t){i&1&&p(0,"router-outlet")},dependencies:[Re]});let l=r;return l})();var Ke=()=>({name:"All Amenities",link:"#home/extras/amenities/all-amenities"}),We=l=>[l];function Xe(l,r){if(l&1){let h=C();o(0,"tr",20),d("click",function(){let i=f(h).$implicit,t=V();return y(t.viewAmenityDetails(i.id))}),o(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n()()}if(l&2){let h=r.$implicit;m(2),R(h.amenity_name),m(2),R(h.capacity),m(2),R(h.features),m(2),R(h.availability)}}function Ye(l,r){if(l&1&&(o(0,"tr")(1,"td",21),p(2,"app-table-loader",22),n()()),l&2){let h=V();m(2),c("isLoading",h.isFetchingListData)("isNoData",h.isDataAvailable)}}var Be=(()=>{let r=class r{constructor(e,i){this.router=e,this.amenitiesService=i,this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"},this.amenityListData=[]}ngAfterViewInit(){this.getAllHotelAmenities()}getAllHotelAmenities(){this.isFetchingListData=!0,this.amenitiesService.getAllHotelAmenities().subscribe({next:e=>{console.log(e),this.amenityListData=e.results,this.pagination.currentPage=e.current_page,this.pagination.totalPages=e.total_pages,this.pagination.totalItems=e.count,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:e=>{console.log(e)},complete:()=>{this.isFetchingListData=!1}})}pageSelected(){this.getAllHotelAmenities()}columnSorted(e){console.log(e),this.sorting.currentField=e.field,this.sorting.currentDirection=e.direction,this.getAllHotelAmenities()}tableFiltered(e){this.filterQuery=e,this.getAllHotelAmenities()}viewAmenityDetails(e){localStorage.setItem("hotel_amenity_id",e),this.router.navigate(["/home/extras/amenities/all-amenities/edit-view-amenity/",e])}goToCreateAmenity(){this.router.navigate(["/home/extras/amenities/all-amenities/create-amenity"])}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-all-amenities"]],decls:31,vars:27,consts:[[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-inline-block","w-100","mb-3"],[1,"btn","btn-primary","btn-sm","mb-3","grid-add-btn",3,"click"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","20%"],["width","15%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],[1,"col-md-3"],["link","/home/extras/amenities/","name","Go to Amenity Requests"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(i,t){i&1&&(p(0,"app-topnav",0),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),s(6,"Amenities"),n(),o(7,"div",6)(8,"button",7),d("click",function(){return t.goToCreateAmenity()}),s(9," Add New Amenity "),n(),o(10,"app-table-filtering",8),d("tableFiltered",function(u){return t.tableFiltered(u)}),n()(),o(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th",11)(16,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(17,"th",13)(18,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(19,"th",11)(20,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(21,"th",14)(22,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()()()(),o(23,"tbody"),O(24,Xe,9,4,"tr",15)(25,Ye,3,2,"tr",16),n()()(),o(26,"app-table-pagination",17),d("pageSelected",function(){return t.pageSelected()}),n()()()(),o(27,"div",18)(28,"div",3)(29,"div",4),p(30,"app-page-link-button-back",19),n()()()()),i&2&&(c("pageTitle","Amenities")("navItems",te(25,We,A(24,Ke))),m(10),c("placeholder","Search Amenities"),m(6),c("columnTitle","Amenity Name")("thisField","amenity_name")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Capacity")("thisField","capacity")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Features")("thisField","features")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Availability")("thisField","availability")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("ngForOf",t.amenityListData),m(),c("ngIf",t.isFetchingListData||!t.isDataAvailable),m(),c("totalItems",t.pagination.totalItems)("currentPage",t.pagination.currentPage)("totalItems",t.pagination.totalItems))},dependencies:[G,j,k,z,N,P,$,ye]});let l=r;return l})();var M=(()=>{let r=class r{constructor(){this.amenityForm=new U({}),this.isSubmitted=!1}ngOnInit(){this.initAmenityForm()}initAmenityForm(){this.amenityForm=new U({amenity_name:new F("",H.required),location:new F("Indoor"),availability:new F(!1),operating_hours:new F(""),capacity:new F,features:new F(""),description:new F("")})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-amenity-form"]],decls:53,vars:3,consts:[[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-4"],["for","amenity_name",1,"float-md-end","float-sm-start","col-form-label"],[1,"text-danger"],[1,"col-md-8"],["type","text","id","amenity_name","name","amenity_name","formControlName","amenity_name","required","",1,"form-control"],["for","location",1,"float-md-end","float-sm-start","col-form-label"],["id","location","name","location","formControlName","location",1,"form-select"],["value","Indoor"],["value","Outdoor"],["value","Both"],["value","N/A"],["for","availability",1,"float-md-end","float-sm-start","col-form-label"],["type","checkbox","id","availability","name","availability","formControlName","availability",1,"form-check-input"],["for","operating_hours",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","operating_hours","name","operating_hours","formControlName","operating_hours",1,"form-control"],["for","capacity",1,"float-md-end","float-sm-start","col-form-label"],["type","number","id","capacity","name","capacity","formControlName","capacity",1,"form-control"],["for","features",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","features","name","features","formControlName","features",1,"form-control"],["for","description",1,"float-md-end","float-sm-start","col-form-label"],["id","description","name","description","formControlName","description","rows","3",1,"form-control"]],template:function(i,t){i&1&&(o(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"span",4),s(5,"* "),n(),s(6," Amenity Name:"),n()(),o(7,"div",5),p(8,"input",6),n()(),o(9,"div",1)(10,"div",2)(11,"label",7),s(12,"Location:"),n()(),o(13,"div",5)(14,"select",8)(15,"option",9),s(16,"Indoor"),n(),o(17,"option",10),s(18,"Outdoor"),n(),o(19,"option",11),s(20,"Both"),n(),o(21,"option",12),s(22,"N/A"),n()()()(),o(23,"div",1)(24,"div",2)(25,"label",13),s(26,"Availability:"),n()(),o(27,"div",5),p(28,"input",14),n()(),o(29,"div",1)(30,"div",2)(31,"label",15),s(32,"Operating Hours:"),n()(),o(33,"div",5),p(34,"input",16),n()(),o(35,"div",1)(36,"div",2)(37,"label",17),s(38,"Capacity:"),n()(),o(39,"div",5),p(40,"input",18),n()(),o(41,"div",1)(42,"div",2)(43,"label",19),s(44,"Features:"),n()(),o(45,"div",5),p(46,"input",20),n()(),o(47,"div",1)(48,"div",2)(49,"label",21),s(50,"Description:"),n()(),o(51,"div",5),p(52,"textarea",22),n()()()),i&2&&(c("formGroup",t.amenityForm),m(8),B("is-invalid",t.amenityForm.controls.amenity_name.invalid&&t.isSubmitted))},dependencies:[ae,ce,de,ne,De,Ee,me,oe,re,ke,le,se]});let l=r;return l})();var et=["amenityFormComponentReference"],tt=["successToastComponentReference"],it=["errorToastComponentReference"],nt=()=>({name:"All Amenities",link:"#/home/extras/amenities/all-amenities"}),ot=()=>({name:"Create Amenity",link:"#/home/extras/amenities/all-amenities/create-amenity"}),rt=(l,r)=>[l,r],je=(()=>{let r=class r{constructor(e,i){this.router=e,this.amenityService=i,this.isLoading=!1}onSave(){this.amenityForm.isSubmitted=!0,this.amenityForm.amenityForm.valid&&this.createAmenity()}createAmenity(){let e=this.getAmenityData();this.isLoading=!0,this.amenityService.createAmenity(e).subscribe({next:i=>{console.log(i),this.successToast.openToast(),localStorage.setItem("hotel_amenity_id",i.id),this.isLoading=!1,this.router.navigateByUrl("/home/extras/amenities/all-amenities/edit-view-amenity/"+i.id)},error:i=>{console.log(i),this.errorToast.openToast(),this.isLoading=!1}})}cancel(){this.router.navigate(["/home/extras/amenities/all-amenities"])}getAmenityData(){return{hotel:localStorage.getItem("hotel_id"),amenity_name:this.amenityForm.amenityForm.controls.amenity_name.value,location:this.amenityForm.amenityForm.controls.location.value,availability:this.amenityForm.amenityForm.controls.availability.value,operating_hours:this.amenityForm.amenityForm.controls.operating_hours.value,capacity:this.amenityForm.amenityForm.controls.capacity.value,features:this.amenityForm.amenityForm.controls.features.value,description:this.amenityForm.amenityForm.controls.description.value}}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-create-amenity"]],viewQuery:function(i,t){if(i&1&&(g(et,5,M),g(tt,5,q),g(it,5,w)),i&2){let a;_(a=v())&&(t.amenityForm=a.first),_(a=v())&&(t.successToast=a.first),_(a=v())&&(t.errorToast=a.first)}},decls:18,vars:9,consts:[["amenityFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"]],template:function(i,t){if(i&1){let a=C();p(0,"app-topnav",3),o(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),s(6,"Add New Amenity"),n(),p(7,"app-amenity-form",null,0),o(9,"div",9)(10,"button",10),d("click",function(){return f(a),y(t.onSave())}),s(11," Save "),n(),o(12,"button",11),d("click",function(){return f(a),y(t.cancel())}),s(13," Cancel "),n()()()()()(),p(14,"app-error-toast",null,1)(16,"app-success-toast",null,2)}i&2&&(c("pageTitle","Amenities")("navItems",L(6,rt,A(4,nt),A(5,ot))),m(10),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading))},dependencies:[k,q,w,M]});let l=r;return l})();var lt=["amenityFormComponentReference"],st=["multiImageUploadComponentReference"],mt=["successToastComponentReference"],ct=["errorToastComponentReference"],dt=["deleteModalOneComponentReference"],pt=()=>({name:"Amenities",link:"#/home/extras/amenities/all-amenities"}),ut=()=>({name:"View-Edit Amenity",link:"#/home/extras/amenities/all-amenities/edit-view-amenity"}),ft=(l,r)=>[l,r],He=(()=>{let r=class r{constructor(e,i){this.router=e,this.amenityService=i,this.isLoading=!1,this.galleryListData=[]}onSave(){this.amenityForm.amenityForm.valid&&this.updateAmenity()}onDelete(){this.deleteModalOne.openModal()}ngAfterViewInit(){this.getAmenity(),this.getAllAmenityGallery()}getAmenity(){this.isLoading=!0,this.amenityService.getAmenity().subscribe({next:e=>{console.log(e),this.setAmenityData(e),this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}updateAmenity(){let e=this.getAmenityData();this.isLoading=!0,this.amenityService.updateAmenity(e).subscribe({next:i=>{console.log(i),this.successToast.openToast(),this.saveGallery(),this.isLoading=!1,this.router.navigateByUrl("/home/extras/amenities/all-amenities")},error:i=>{console.log(i),this.errorToast.openToast(),this.isLoading=!1}})}deleteAmenity(){this.isLoading=!0,this.amenityService.deleteAmenity().subscribe({next:e=>{console.log(e),this.isLoading=!1,this.router.navigateByUrl("/home/extras/amenities/all-amenities")},error:e=>{console.log(e),this.errorToast.openToast(),this.isLoading=!1}})}createAmenityGallery(e){this.isLoading=!0,this.amenityService.createAmenityGallery(e).subscribe({next:i=>{console.log(i),this.isLoading=!1},error:i=>{console.log(i),this.isLoading=!1}})}getAllAmenityGallery(){this.amenityService.getAllAmenityGallery().subscribe({next:e=>{console.log(e),this.imagesUpload.setGallerySrc(e)},error:e=>{console.log(e)}})}setAmenityData(e){this.amenityForm.amenityForm.controls.amenity_name.setValue(e.amenity_name),this.amenityForm.amenityForm.controls.location.setValue(e.location),this.amenityForm.amenityForm.controls.availability.setValue(e.availability),this.amenityForm.amenityForm.controls.operating_hours.setValue(e.operating_hours),this.amenityForm.amenityForm.controls.capacity.setValue(e.capacity),this.amenityForm.amenityForm.controls.features.setValue(e.features),this.amenityForm.amenityForm.controls.description.setValue(e.description)}getAmenityData(){return{hotel:localStorage.getItem("hotel_id"),amenity_name:this.amenityForm.amenityForm.controls.amenity_name.value,location:this.amenityForm.amenityForm.controls.location.value,availability:this.amenityForm.amenityForm.controls.availability.value,operating_hours:this.amenityForm.amenityForm.controls.operating_hours.value,capacity:this.amenityForm.amenityForm.controls.capacity.value,features:this.amenityForm.amenityForm.controls.features.value,description:this.amenityForm.amenityForm.controls.description.value}}saveGallery(){for(let e of this.imagesUpload.uploadedFiles)if(e.isChanged){let i=new FormData;i.append("amenity",localStorage.getItem("hotel_amenity_id")),i.append("image",e.file),i.append("is_lead","false"),this.createAmenityGallery(i)}}cancel(){this.router.navigate(["/home/extras/amenities/all-amenities"])}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-edit-view-amenity"]],viewQuery:function(i,t){if(i&1&&(g(lt,5,M),g(st,5,ue),g(mt,5,q),g(ct,5,w),g(dt,5,x)),i&2){let a;_(a=v())&&(t.amenityForm=a.first),_(a=v())&&(t.imagesUpload=a.first),_(a=v())&&(t.successToast=a.first),_(a=v())&&(t.errorToast=a.first),_(a=v())&&(t.deleteModalOne=a.first)}},decls:34,vars:10,consts:[["amenityFormComponentReference",""],["multiImageUploadComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],["deleteModalOneComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col"],[1,"col","mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-danger","float-end","ms-2","form-control-btn",3,"click","disabled"],[3,"confirmEvent"]],template:function(i,t){if(i&1){let a=C();p(0,"app-topnav",5),o(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h5",10),s(6,"View-Edit Amenity"),n(),p(7,"app-amenity-form",null,0),n()()()(),o(9,"div",6)(10,"div",11)(11,"div",8)(12,"div",9)(13,"h5",10),s(14,"Amenity Images"),n(),p(15,"app-multi-images-upload",null,1),n()()()(),o(17,"div",6)(18,"div",11)(19,"div",8)(20,"div",9)(21,"div",12)(22,"button",13),d("click",function(){return f(a),y(t.onSave())}),s(23," Save "),n(),o(24,"button",14),d("click",function(){return f(a),y(t.cancel())}),s(25," Cancel "),n(),o(26,"button",15),d("click",function(){return f(a),y(t.onDelete())}),s(27," Delete "),n()()()()()(),p(28,"app-error-toast",null,2)(30,"app-success-toast",null,3),o(32,"app-delete-modal-one",16,4),d("confirmEvent",function(){return f(a),y(t.deleteAmenity())}),n()}i&2&&(c("pageTitle","Amenities")("navItems",L(7,ft,A(5,pt),A(6,ut))),m(22),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading))},dependencies:[k,ue,x,q,w,M]});let l=r;return l})();var yt=()=>({name:"All Amenity Requests",link:"#home/extras/amenities/all-amenities"}),ht=l=>[l];function gt(l,r){if(l&1){let h=C();o(0,"tr",21),d("click",function(){let i=f(h).$implicit,t=V();return y(t.viewAmenityRequestDetails(i.id))}),o(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n()()}if(l&2){let h=r.$implicit;m(2),R(h.amenity.amenity_name),m(2),R(h.amenity_request_id),m(2),R(h.check_in.checkin_id),m(2),R(h.status)}}function _t(l,r){if(l&1&&(o(0,"tr")(1,"td",22),p(2,"app-table-loader",23),n()()),l&2){let h=V();m(2),c("isLoading",h.isFetchingListData)("isNoData",h.isDataAvailable)}}var qe=(()=>{let r=class r{constructor(e,i){this.router=e,this.amenitiesService=i,this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"},this.amenityRequestListData=[]}ngAfterViewInit(){this.getAllHotelAmenitiesRequest()}getAllHotelAmenitiesRequest(){this.isFetchingListData=!0,this.amenitiesService.getAllHotelAmenitiesRequest().subscribe({next:e=>{console.log(e),this.amenityRequestListData=e.results,this.pagination.currentPage=e.current_page,this.pagination.totalPages=e.total_pages,this.pagination.totalItems=e.count,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:e=>{console.log(e)},complete:()=>{this.isFetchingListData=!1}})}pageSelected(){this.getAllHotelAmenitiesRequest()}columnSorted(e){console.log(e),this.sorting.currentField=e.field,this.sorting.currentDirection=e.direction,this.getAllHotelAmenitiesRequest()}tableFiltered(e){this.filterQuery=e,this.getAllHotelAmenitiesRequest()}viewAmenityRequestDetails(e){localStorage.setItem("hotel_amenity_request_id",e),this.router.navigate(["/home/extras/amenities/amenity-request/edit-view-request/",e])}goToCreateAmenityRequest(){this.router.navigate(["/home/extras/amenities/amenity-request/create-request"])}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-amenity-request"]],decls:31,vars:27,consts:[[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-inline-block","w-100","mb-3"],[1,"btn","btn-primary","btn-sm","mb-3","grid-add-btn",3,"click"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","20%"],["width","35%"],["width","15%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],[1,"col-md-3"],["link","/home/extras/amenities/all-amenities","name","Go to All Amenities"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(i,t){i&1&&(p(0,"app-topnav",0),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),s(6,"Amenities"),n(),o(7,"div",6)(8,"button",7),d("click",function(){return t.goToCreateAmenityRequest()}),s(9," Make Amenity Request "),n(),o(10,"app-table-filtering",8),d("tableFiltered",function(u){return t.tableFiltered(u)}),n()(),o(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th",11)(16,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(17,"th",13)(18,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(19,"th",14)(20,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()(),o(21,"th",15)(22,"app-table-sorting",12),d("columnSorted",function(u){return t.columnSorted(u)}),n()()()(),o(23,"tbody"),O(24,gt,9,4,"tr",16)(25,_t,3,2,"tr",17),n()()(),o(26,"app-table-pagination",18),d("pageSelected",function(){return t.pageSelected()}),n()()()(),o(27,"div",19)(28,"div",3)(29,"div",4),p(30,"app-page-link-button",20),n()()()()),i&2&&(c("pageTitle","Amenities")("navItems",te(25,ht,A(24,yt))),m(10),c("placeholder","Search Amenities"),m(6),c("columnTitle"," Request Name")("thisField","amenity")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle"," Request ID")("thisField","amenity_request_id")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Check In ID")("thisField","check_in")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Status")("thisField","status")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("ngForOf",t.amenityRequestListData),m(),c("ngIf",t.isFetchingListData||!t.isDataAvailable),m(),c("totalItems",t.pagination.totalItems)("currentPage",t.pagination.currentPage)("totalItems",t.pagination.totalItems))},dependencies:[G,j,k,z,N,P,$,fe]});let l=r;return l})();var vt=["openButtonElementReference"],bt=["closeButtonElementReference"];function St(l,r){if(l&1){let h=C();o(0,"tr",22),d("click",function(){let i=f(h).$implicit,t=V();return y(t.selectRow(i))}),o(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n()()}if(l&2){let h=r.$implicit;m(2),R(h.amenity_name),m(2),R(h.amenity_id),m(2),R(h.price),m(2),R(h.location)}}function Ct(l,r){if(l&1&&(o(0,"tr")(1,"td",23),p(2,"app-table-loader",24),n()()),l&2){let h=V();m(2),c("isLoading",h.isFetchingListData)("isNoData",h.isDataAvailable)}}var X=(()=>{let r=class r{constructor(e){this.amenityService=e,this.rowSelected=new we,this.closeTarget="",this.amenitiesListData=[],this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"}}openModal(){this.amenitiesListData=[],this.getAllAmenity(),this.openButton.nativeElement.click()}getAllAmenity(){this.isFetchingListData=!0,this.amenityService.getAllHotelAmenities().subscribe({next:e=>{console.log(e),this.amenitiesListData=e.results,this.pagination.currentPage=e.current_page,this.pagination.totalPages=e.total_pages,this.pagination.totalItems=e.count,this.isFetchingListData=!1,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:e=>{console.log(e)}})}pageSelected(){this.getAllAmenity()}columnSorted(e){console.log(e),this.sorting.currentField=e.field,this.sorting.currentDirection=e.direction,this.getAllAmenity()}tableFiltered(e){this.filterQuery=e,this.getAllAmenity()}selectRow(e){this.rowSelected.emit(e),this.closeButton.nativeElement.click(),console.log(e)}};r.\u0275fac=function(i){return new(i||r)(S(E))},r.\u0275cmp=b({type:r,selectors:[["app-select-amenity"]],viewQuery:function(i,t){if(i&1&&(g(vt,5,ge),g(bt,5,ge)),i&2){let a;_(a=v())&&(t.openButton=a.first),_(a=v())&&(t.closeButton=a.first)}},inputs:{closeTarget:"closeTarget"},outputs:{rowSelected:"rowSelected"},standalone:!0,features:[Te],decls:32,vars:26,consts:[["openButtonElementReference",""],["closeButtonElementReference",""],["data-bs-toggle","modal","data-bs-target","#selectAmenityModal",3,"hidden"],["id","selectAmenityModal","tabindex","-1","aria-labelledby","selectAmenityModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectAmenityModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","data-bs-toggle","modal",1,"btn-close"],[1,"modal-body"],[1,"d-inline-block","w-100","mb-2"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","15%"],["width","20%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],["data-bs-dismiss","modal","data-bs-toggle","modal",3,"hidden"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(i,t){if(i&1){let a=C();o(0,"button",2,0),s(2,` Launch demo modal
`),n(),o(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),s(8,"Select Hotel Amenitys"),n(),p(9,"button",8),n(),o(10,"div",9)(11,"div",10)(12,"app-table-filtering",11),d("tableFiltered",function(){return f(a),y(t.tableFiltered)}),n()(),o(13,"div",12)(14,"table",13)(15,"thead")(16,"tr")(17,"th",14)(18,"app-table-sorting",15),d("columnSorted",function(T){return f(a),y(t.columnSorted(T))}),n()(),o(19,"th",16)(20,"app-table-sorting",15),d("columnSorted",function(T){return f(a),y(t.columnSorted(T))}),n()(),o(21,"th",16)(22,"app-table-sorting",15),d("columnSorted",function(T){return f(a),y(t.columnSorted(T))}),n()(),o(23,"th",17)(24,"app-table-sorting",15),d("columnSorted",function(T){return f(a),y(t.columnSorted(T))}),n()()()(),o(25,"tbody"),O(26,St,9,4,"tr",18)(27,Ct,3,2,"tr",19),n()()(),o(28,"app-table-pagination",20),d("pageSelected",function(){return f(a),y(t.pageSelected())}),n()(),o(29,"button",21,1),s(31," Launch demo modal "),n()()()()}i&2&&(c("hidden",!0),m(9),_e("data-bs-target",t.closeTarget),m(3),c("placeholder","Search Amenities"),m(6),c("columnTitle","Amenity Name")("thisField","amenity_name")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Amenity ID")("thisField","amenity_id")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Price")("thisField","price")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("columnTitle","Location")("thisField","location")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),c("ngForOf",t.amenitiesListData),m(),c("ngIf",t.isFetchingListData||!t.isDataAvailable),m(),c("totalItems",t.pagination.totalItems)("currentPage",t.pagination.currentPage)("totalItems",t.pagination.totalItems),m(),c("hidden",!0),_e("data-bs-target",t.closeTarget))},dependencies:[ie,G,j,pe,z,N,P,$]});let l=r;return l})();var At=["selectCheckinComponentReference"],qt=["selectAmenityComponentReference"],wt=["selectStaffComponentReference"],Q=(()=>{let r=class r{constructor(){this.requestForm=new U({}),this.selectedAmenityId="",this.selectedCheckInId="",this.selectedStaffId="",this.isSubmitted=!1}ngOnInit(){this.initRequestForm()}initRequestForm(){this.requestForm=new U({amenity:new F({value:"",disabled:!0},H.required),check_in:new F({value:"",disabled:!0},H.required),amenity_request_id:new F({value:"",disabled:!0}),request_date_time:new F("",H.required),party_size:new F(""),special_requests:new F(""),status:new F("pending"),notes:new F("")})}amenityRowSelected(e){this.selectedAmenityId=e?.id,this.requestForm.controls.amenity.setValue(e?.amenity_name)}checkinRowSelected(e){this.selectedCheckInId=e?.id,this.requestForm.controls.check_in.setValue(e?.checkin_id)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-request-form"]],viewQuery:function(i,t){if(i&1&&(g(At,5,J),g(qt,5,X),g(wt,5,he)),i&2){let a;_(a=v())&&(t.selectCheckin=a.first),_(a=v())&&(t.selectAmenity=a.first),_(a=v())&&(t.selectStaff=a.first)}},decls:61,vars:7,consts:[["selectAmenityComponentReference",""],["selectCheckinComponentReference",""],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-4"],["for","amenity",1,"float-md-end","float-sm-start","col-form-label"],[1,"text-danger"],[1,"col-md-8"],[1,"input-group","w-100"],["type","text","id","amenity","formControlName","amenity",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-window"],["for","check_in",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","check_in","formControlName","check_in",1,"form-control"],["for","amenity_request_id",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","amenity_request_id","formControlName","amenity_request_id",1,"form-control"],["for","request_date_time",1,"float-md-end","float-sm-start","col-form-label"],["type","datetime-local","id","request_date_time","formControlName","request_date_time",1,"form-control"],["for","status",1,"float-md-end","float-sm-start","col-form-label"],["id","status","formControlName","status",1,"form-control"],["value","Pending"],["value","In Progress"],["value","Completed"],["value","Cancelled"],["for","notes",1,"float-md-end","float-sm-start","col-form-label"],["id","notes","formControlName","notes","rows","3",1,"form-control"],[3,"rowSelected"]],template:function(i,t){if(i&1){let a=C();o(0,"form",2)(1,"div",3)(2,"div",4)(3,"label",5)(4,"span",6),s(5,"* "),n(),s(6," Amenity"),n()(),o(7,"div",7)(8,"div",8),p(9,"input",9),o(10,"button",10),d("click",function(){f(a);let T=ve(58);return y(T.openModal())}),p(11,"i",11),n()()()(),o(12,"div",3)(13,"div",4)(14,"label",12)(15,"span",6),s(16,"* "),n(),s(17," Check-in"),n()(),o(18,"div",7)(19,"div",8),p(20,"input",13),o(21,"button",10),d("click",function(){f(a);let T=ve(60);return y(T.openModal())}),p(22,"i",11),n()()()(),o(23,"div",3)(24,"div",4)(25,"label",14),s(26,"Amenity Request ID"),n()(),o(27,"div",7),p(28,"input",15),n()(),o(29,"div",3)(30,"div",4)(31,"label",16)(32,"span",6),s(33,"* "),n(),s(34," Request Date Time"),n()(),o(35,"div",7),p(36,"input",17),n()(),o(37,"div",3)(38,"div",4)(39,"label",18),s(40,"Status"),n()(),o(41,"div",7)(42,"select",19)(43,"option",20),s(44,"Pending"),n(),o(45,"option",21),s(46,"In Progress"),n(),o(47,"option",22),s(48,"Completed"),n(),o(49,"option",23),s(50,"Cancelled"),n()()()(),o(51,"div",3)(52,"div",4)(53,"label",24),s(54,"Notes"),n()(),o(55,"div",7),p(56,"textarea",25),n()()(),o(57,"app-select-amenity",26,0),d("rowSelected",function(T){return f(a),y(t.amenityRowSelected(T))}),n(),o(59,"app-select-checkin",26,1),d("rowSelected",function(T){return f(a),y(t.checkinRowSelected(T))}),n()}i&2&&(c("formGroup",t.requestForm),m(9),B("is-invalid",t.requestForm.controls.amenity.invalid&&t.isSubmitted),m(11),B("is-invalid",t.requestForm.controls.check_in.invalid&&t.isSubmitted),m(16),B("is-invalid",t.requestForm.controls.request_date_time.invalid&&t.isSubmitted))},dependencies:[ae,ce,de,ne,me,oe,re,le,se,J,X]});let l=r;return l})();var Tt=["requestFormComponentReference"],Rt=["successToastComponentReference"],Et=["errorToastComponentReference"],Dt=()=>({name:"All Amenity Requests",link:"#/home/extras/amenities"}),kt=()=>({name:"Create Request",link:"#/home/extras/amenities/amenity-requests/create-request"}),It=(l,r)=>[l,r],$e=(()=>{let r=class r{constructor(e,i){this.router=e,this.amenityService=i,this.isLoading=!1}onSave(){this.requestForm.isSubmitted=!0,this.requestForm.requestForm.valid&&this.createAmenityRequest()}createAmenityRequest(){let e=this.getAmenityData();this.isLoading=!0,this.amenityService.createAmenityRequest(e).subscribe({next:i=>{console.log(i),localStorage.setItem("hotel_amenity_request_id",i.id),this.isLoading=!1,this.successToast.openToast(),this.router.navigateByUrl("/home/extras/amenities/amenity-request/edit-view-request/"+i.id)},error:i=>{console.log(i),this.errorToast.openToast(),this.isLoading=!1}})}cancel(){this.router.navigate(["/home/extras/amenities"])}getAmenityData(){return{hotel:localStorage.getItem("hotel_id"),amenity:this.requestForm.selectedAmenityId,check_in:this.requestForm.selectedCheckInId,amenity_request_id:this.requestForm.requestForm.controls.amenity_request_id.value,request_date_time:this.requestForm.requestForm.controls.request_date_time.value,status:this.requestForm.requestForm.controls.status.value,notes:this.requestForm.requestForm.controls.notes.value}}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-create-request"]],viewQuery:function(i,t){if(i&1&&(g(Tt,5,Q),g(Rt,5,q),g(Et,5,w)),i&2){let a;_(a=v())&&(t.requestForm=a.first),_(a=v())&&(t.successToast=a.first),_(a=v())&&(t.errorToast=a.first)}},decls:18,vars:9,consts:[["requestFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"]],template:function(i,t){if(i&1){let a=C();p(0,"app-topnav",3),o(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),s(6,"Make Request"),n(),p(7,"app-request-form",null,0),o(9,"div",9)(10,"button",10),d("click",function(){return f(a),y(t.onSave())}),s(11," Save "),n(),o(12,"button",11),d("click",function(){return f(a),y(t.cancel())}),s(13," Cancel "),n()()()()()(),p(14,"app-error-toast",null,1)(16,"app-success-toast",null,2)}i&2&&(c("pageTitle","Amenities")("navItems",L(6,It,A(4,Dt),A(5,kt))),m(10),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading))},dependencies:[k,q,w,Q]});let l=r;return l})();var Vt=["requestFormComponentReference"],Lt=["successToastComponentReference"],xt=["errorToastComponentReference"],Mt=["deleteModalOneComponentReference"],Qt=()=>({name:"Amenity Requests",link:"#/home/extras/amenities/amenity-request"}),Nt=()=>({name:"View-Edit Amenity Request",link:"#/home/extras/amenities/amenity-request/edit-view-amenity"}),Pt=(l,r)=>[l,r],ze=(()=>{let r=class r{constructor(e,i){this.router=e,this.requestRequest=i,this.isLoading=!1}onSave(){this.requestForm.isSubmitted=!0,this.requestForm.requestForm.valid&&this.updateAmenityRequest()}onDelete(){this.deleteModalOne.openModal()}ngAfterViewInit(){this.getAmenityRequest()}getAmenityRequest(){this.isLoading=!0,this.requestRequest.getAmenityRequest().subscribe({next:e=>{console.log(e),this.setRequestData(e),this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}updateAmenityRequest(){let e=this.getAmenityRequestData();this.isLoading=!0,this.requestRequest.updateAmenityRequest(e).subscribe({next:i=>{console.log(i),this.successToast.openToast(),this.isLoading=!1,this.router.navigateByUrl("/home/extras/amenities/amenity-request")},error:i=>{console.log(i),this.isLoading=!1}})}deleteAmenityRequest(){this.isLoading=!0,this.requestRequest.deleteAmenityRequest().subscribe({next:e=>{console.log(e),this.isLoading=!1,this.router.navigateByUrl("/home/extras/amenities/amenity-request")},error:e=>{console.log(e),this.isLoading=!1,this.errorToast.openToast()}})}cancel(){this.router.navigate(["/home/extras/amenities/amenity-request"])}setRequestData(e){this.requestForm.requestForm.controls.amenity.setValue(e.amenity?.amenity_name),this.requestForm.selectedAmenityId=e.amenity.id,this.requestForm.requestForm.controls.check_in.setValue(e.check_in?.checkin_id),this.requestForm.selectedCheckInId=e.check_in?.id,this.requestForm.requestForm.controls.amenity_request_id.setValue(e.amenity_request_id),this.requestForm.requestForm.controls.request_date_time.setValue(e.request_date_time),this.requestForm.requestForm.controls.status.setValue(e.status),this.requestForm.requestForm.controls.notes.setValue(e.notes)}getAmenityRequestData(){return{hotel:localStorage.getItem("hotel_id"),amenity:this.requestForm.selectedAmenityId,check_in:this.requestForm.selectedCheckInId,amenity_request_id:this.requestForm.requestForm.controls.amenity_request_id.value,request_date_time:this.requestForm.requestForm.controls.request_date_time.value,status:this.requestForm.requestForm.controls.status.value,notes:this.requestForm.requestForm.controls.notes.value}}};r.\u0275fac=function(i){return new(i||r)(S(D),S(E))},r.\u0275cmp=b({type:r,selectors:[["app-edit-view-request"]],viewQuery:function(i,t){if(i&1&&(g(Vt,5,Q),g(Lt,5,q),g(xt,5,w),g(Mt,5,x)),i&2){let a;_(a=v())&&(t.requestForm=a.first),_(a=v())&&(t.successToast=a.first),_(a=v())&&(t.errorToast=a.first),_(a=v())&&(t.deleteModalOne=a.first)}},decls:22,vars:10,consts:[["requestFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],["deleteModalOneComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col","mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-danger","float-end","ms-2","form-control-btn",3,"click","disabled"],[3,"confirmEvent"]],template:function(i,t){if(i&1){let a=C();p(0,"app-topnav",4),o(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h5",9),s(6,"View-Edit Amenity Request"),n(),p(7,"app-request-form",null,0),o(9,"div",10)(10,"button",11),d("click",function(){return f(a),y(t.onSave())}),s(11," Save "),n(),o(12,"button",12),d("click",function(){return f(a),y(t.cancel())}),s(13," Cancel "),n(),o(14,"button",13),d("click",function(){return f(a),y(t.onDelete())}),s(15," Delete "),n()()()()()(),p(16,"app-error-toast",null,1)(18,"app-success-toast",null,2),o(20,"app-delete-modal-one",14,3),d("confirmEvent",function(){return f(a),y(t.deleteAmenityRequest())}),n()}i&2&&(c("pageTitle","Amenities")("navItems",L(7,Pt,A(5,Qt),A(6,Nt))),m(10),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading),m(2),c("disabled",t.isLoading))},dependencies:[k,x,q,w,Q]});let l=r;return l})();var Ot=[{path:"",component:Qe,children:[{path:"",component:qe},{path:"amenity-request",component:qe},{path:"amenity-request/create-request",component:$e},{path:"amenity-request/edit-view-request/:id",component:ze},{path:"all-amenities",component:Be},{path:"all-amenities/create-amenity",component:je},{path:"all-amenities/edit-view-amenity/:id",component:He}]}],Je=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ee({type:r}),r.\u0275inj=Z({imports:[be.forChild(Ot),be]});let l=r;return l})();var gn=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ee({type:r}),r.\u0275inj=Z({imports:[ie,Ie,Ve,Je,Le,pe,xe,fe,ye,J,he,X,Me]});let l=r;return l})();export{gn as AmenitiesModule};
