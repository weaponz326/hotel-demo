import{a as q}from"./chunk-K5QABCWY.js";import{a as P}from"./chunk-MFPXOXAK.js";import{a as B,b as Q,c as k,d as N,e as O}from"./chunk-3OLZPOF4.js";import{F as C,Ga as V,K as d,L as p,Q as f,R as E,V as n,W as T,Za as L,_a as A,aa as I,ba as S,ca as r,cb as M,ja as i,ka as o,la as v,ma as R,na as u,oa as F,ta as w,ua as y,va as D,xa as g,ya as b}from"./chunk-TK5UYZ3D.js";var H=["openButtonElementReference"],$=["closeButtonElementReference"];function j(l,s){if(l&1){let m=R();i(0,"tr",22),u("click",function(){let c=d(m).$implicit,e=F();return p(e.selectRow(c))}),i(1,"td"),g(2),o(),i(3,"td"),g(4),o(),i(5,"td"),g(6),o(),i(7,"td"),g(8),o()()}if(l&2){let m=s.$implicit;n(2),b(m.room_number),n(2),b(m.capacity),n(2),b(m.price_per_night),n(2),b(m.status)}}function G(l,s){if(l&1&&(i(0,"tr")(1,"td",23),v(2,"app-table-loader",24),o()()),l&2){let m=F();n(2),r("isLoading",m.isFetchingListData)("isNoData",m.isDataAvailable)}}var ae=(()=>{let s=class s{constructor(t){this.roomRoom=t,this.rowSelected=new E,this.closeTarget="",this.roomsListData=[],this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"}}openModal(){this.roomsListData=[],this.getAllRoom(),this.openButton.nativeElement.click()}getAllRoom(){this.isFetchingListData=!0,this.roomRoom.getAllHotelRooms().subscribe({next:t=>{console.log(t),this.roomsListData=t.results,this.pagination.currentPage=t.current_page,this.pagination.totalPages=t.total_pages,this.pagination.totalItems=t.count,this.isFetchingListData=!1,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:t=>{console.log(t)}})}pageSelected(){this.getAllRoom()}columnSorted(t){console.log(t),this.sorting.currentField=t.field,this.sorting.currentDirection=t.direction,this.getAllRoom()}tableFiltered(t){this.filterQuery=t,this.getAllRoom()}selectRow(t){this.rowSelected.emit(t),this.closeButton.nativeElement.click(),console.log(t)}};s.\u0275fac=function(c){return new(c||s)(T(P))},s.\u0275cmp=C({type:s,selectors:[["app-select-room"]],viewQuery:function(c,e){if(c&1&&(w(H,5,f),w($,5,f)),c&2){let a;y(a=D())&&(e.openButton=a.first),y(a=D())&&(e.closeButton=a.first)}},inputs:{closeTarget:"closeTarget"},outputs:{rowSelected:"rowSelected"},standalone:!0,features:[V],decls:32,vars:26,consts:[["openButtonElementReference",""],["closeButtonElementReference",""],["data-bs-toggle","modal","data-bs-target","#selectRoomModal",3,"hidden"],["id","selectRoomModal","tabindex","-1","aria-labelledby","selectRoomModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectRoomModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","data-bs-toggle","modal",1,"btn-close"],[1,"modal-body"],[1,"d-inline-block","w-100","mb-2"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","15%"],["width","20%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],["data-bs-dismiss","modal","data-bs-toggle","modal",3,"hidden"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(c,e){if(c&1){let a=R();i(0,"button",2,0),g(2,` Launch demo modal
`),o(),i(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),g(8,"Select Hotel Rooms"),o(),v(9,"button",8),o(),i(10,"div",9)(11,"div",10)(12,"app-table-filtering",11),u("tableFiltered",function(){return d(a),p(e.tableFiltered)}),o()(),i(13,"div",12)(14,"table",13)(15,"thead")(16,"tr")(17,"th",14)(18,"app-table-sorting",15),u("columnSorted",function(_){return d(a),p(e.columnSorted(_))}),o()(),i(19,"th",16)(20,"app-table-sorting",15),u("columnSorted",function(_){return d(a),p(e.columnSorted(_))}),o()(),i(21,"th",16)(22,"app-table-sorting",15),u("columnSorted",function(_){return d(a),p(e.columnSorted(_))}),o()(),i(23,"th",17)(24,"app-table-sorting",15),u("columnSorted",function(_){return d(a),p(e.columnSorted(_))}),o()()()(),i(25,"tbody"),I(26,j,9,4,"tr",18)(27,G,3,2,"tr",19),o()()(),i(28,"app-table-pagination",20),u("pageSelected",function(){return d(a),p(e.pageSelected())}),o()(),i(29,"button",21,1),g(31," Launch demo modal "),o()()()()}c&2&&(r("hidden",!0),n(9),S("data-bs-target",e.closeTarget),n(3),r("placeholder","Search Guests"),n(6),r("columnTitle","Room Number")("thisField","room_number")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),n(2),r("columnTitle","Capacity")("thisField","capacity")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),n(2),r("columnTitle","Price")("thisField","price_per_night")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),n(2),r("columnTitle","Status")("thisField","status")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),n(2),r("ngForOf",e.roomsListData),n(),r("ngIf",e.isFetchingListData||!e.isDataAvailable),n(),r("totalItems",e.pagination.totalItems)("currentPage",e.pagination.currentPage)("totalItems",e.pagination.totalItems),n(),r("hidden",!0),S("data-bs-target",e.closeTarget))},dependencies:[M,L,A,O,Q,k,N,B,q]});let l=s;return l})();export{ae as a};
