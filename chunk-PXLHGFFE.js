import{a as J}from"./chunk-PODTOE5Y.js";import{a as ue}from"./chunk-TZ4ME6VN.js";import{a as K}from"./chunk-HSAPCYZP.js";import{d as xe}from"./chunk-FBWHH6JU.js";import"./chunk-GHO2QF7T.js";import{a as z}from"./chunk-TMGJ6XNB.js";import"./chunk-DQC53J6Z.js";import{a as T,b as E,c as x,d as Me}from"./chunk-UEPNQQPW.js";import{a as de}from"./chunk-JRFFUKYU.js";import{a as R}from"./chunk-6TRWRYDX.js";import{a as ae,b as le,c as ce,d as me,e as Ie}from"./chunk-3OLZPOF4.js";import{a as qe,b as j,c as Q,d as B,e as G,f as H,g as ye,h as q,j as U,k as ne,l as se,m as $,n as Re,o as Te,p as Ee,r as ke,u as De,v as Ve}from"./chunk-RQYECNT5.js";import{b as D,c as Le}from"./chunk-IMD2KKFX.js";import{A as Y,F as _,G as Z,Ha as F,Ia as ie,Ja as L,K as v,L as f,Q as ve,R as Ce,V as m,W as C,Za as re,_a as oe,a as ge,aa as ee,b as be,ca as d,cb as we,da as A,ja as n,ka as o,la as c,lb as Fe,ma as w,mb as y,na as u,oa as O,qb as fe,ta as h,ua as S,va as g,wa as te,xa as l,ya as I}from"./chunk-TK5UYZ3D.js";var Ne=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-services"]],decls:1,vars:0,template:function(i,t){i&1&&c(0,"router-outlet")},dependencies:[Fe]});let s=r;return s})();var et=()=>({name:"All Services",link:"#home/extras/services/all-services"}),tt=s=>[s];function it(s,r){if(s&1){let b=w();n(0,"tr",20),u("click",function(){let i=v(b).$implicit,t=O();return f(t.viewServiceDetails(i.id))}),n(1,"td"),l(2),o(),n(3,"td"),l(4),o(),n(5,"td"),l(6),o(),n(7,"td"),l(8),o()()}if(s&2){let b=r.$implicit;m(2),I(b.service_name),m(2),I(b.service_id),m(2),I(b.price),m(2),I(b.location)}}function rt(s,r){if(s&1&&(n(0,"tr")(1,"td",21),c(2,"app-table-loader",22),o()()),s&2){let b=O();m(2),d("isLoading",b.isFetchingListData)("isNoData",b.isDataAvailable)}}var Ae=(()=>{let r=class r{constructor(e,i){this.router=e,this.servicesService=i,this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"},this.serviceListData=[]}ngAfterViewInit(){this.getAllHotelService()}getAllHotelService(){this.isFetchingListData=!0,this.servicesService.getAllHotelService().subscribe({next:e=>{console.log(e),this.serviceListData=e.results,this.pagination.currentPage=e.current_page,this.pagination.totalPages=e.total_pages,this.pagination.totalItems=e.count,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:e=>{console.log(e)},complete:()=>{this.isFetchingListData=!1}})}pageSelected(){this.getAllHotelService()}columnSorted(e){console.log(e),this.sorting.currentField=e.field,this.sorting.currentDirection=e.direction,this.getAllHotelService()}tableFiltered(e){this.filterQuery=e,this.getAllHotelService()}viewServiceDetails(e){localStorage.setItem("hotel_service_id",e),this.router.navigate(["/home/extras/services/all-services/edit-view-service/",e])}goToCreateService(){this.router.navigate(["/home/extras/services/all-services/create-service"])}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-all-services"]],decls:31,vars:27,consts:[[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-inline-block","w-100","mb-3"],[1,"btn","btn-primary","btn-sm","mb-3","grid-add-btn",3,"click"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","15%"],["width","20%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],[1,"col-md-3"],["link","/home/extras/services/","name","Go to Service Requests"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(i,t){i&1&&(c(0,"app-topnav",0),n(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),l(6,"Services"),o(),n(7,"div",6)(8,"button",7),u("click",function(){return t.goToCreateService()}),l(9," Add New Service "),o(),n(10,"app-table-filtering",8),u("tableFiltered",function(p){return t.tableFiltered(p)}),o()(),n(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th",11)(16,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(17,"th",13)(18,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(19,"th",13)(20,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(21,"th",14)(22,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()()()(),n(23,"tbody"),ee(24,it,9,4,"tr",15)(25,rt,3,2,"tr",16),o()()(),n(26,"app-table-pagination",17),u("pageSelected",function(){return t.pageSelected()}),o()()()(),n(27,"div",18)(28,"div",3)(29,"div",4),c(30,"app-page-link-button-back",19),o()()()()),i&2&&(d("pageTitle","Services")("navItems",ie(25,tt,F(24,et))),m(10),d("placeholder","Search Services"),m(6),d("columnTitle","Service Name")("thisField","service_name")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle","Service ID")("thisField","service_id")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle","Price")("thisField","price")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle","Location")("thisField","location")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("ngForOf",t.serviceListData),m(),d("ngIf",t.isFetchingListData||!t.isDataAvailable),m(),d("totalItems",t.pagination.totalItems)("currentPage",t.pagination.currentPage)("totalItems",t.pagination.totalItems))},dependencies:[re,oe,D,le,ce,me,ae,ue]});let s=r;return s})();var M=(()=>{let r=class r{constructor(){this.serviceForm=new H({}),this.isSubmitted=!1}ngOnInit(){this.initServiceForm()}initServiceForm(){this.serviceForm=new H({service_name:new q("",Q.required),description:new q(""),price:new q(""),location:new q(""),duration:new q(""),available_to_public:new q("",Q.required)})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-service-form"]],decls:42,vars:5,consts:[[3,"formGroup"],[1,"row"],[1,"row","mb-1"],[1,"col-md-4"],["for","service_name",1,"float-md-end","float-sm-start","col-form-label"],[1,"text-danger"],[1,"col-md-8"],["formControlName","service_name","type","text","id","service_name","name","service_name","required","",1,"form-control"],["for","description",1,"float-md-end","float-sm-start","col-form-label"],["formControlName","description","id","description","name","description","rows","3",1,"form-control"],["for","available_to_public",1,"float-md-end","float-sm-start","col-form-label"],["formControlName","available_to_public","type","checkbox","id","available_to_public","name","available_to_public",1,"form-check-input","mt-2"],["for","price",1,"float-md-end","float-sm-start","col-form-label"],["formControlName","price","type","number","id","price","name","price","required","",1,"form-control"],["for","location",1,"float-md-end","float-sm-start","col-form-label"],["formControlName","location","type","text","id","location","name","location",1,"form-control"],["for","duration",1,"float-md-end","float-sm-start","col-form-label"],["formControlName","duration","type","time","id","duration","name","duration",1,"form-control"]],template:function(i,t){i&1&&(n(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4)(5,"span",5),l(6,"* "),o(),l(7," Service Name:"),o()(),n(8,"div",6),c(9,"input",7),o()(),n(10,"div",2)(11,"div",3)(12,"label",8),l(13,"Description:"),o()(),n(14,"div",6),c(15,"textarea",9),o()(),n(16,"div",2)(17,"div",3)(18,"label",10)(19,"span",5),l(20,"* "),o(),l(21," Available to Public:"),o()(),n(22,"div",6),c(23,"input",11),o()(),n(24,"div",2)(25,"div",3)(26,"label",12),l(27,"Price:"),o()(),n(28,"div",6),c(29,"input",13),o()(),n(30,"div",2)(31,"div",3)(32,"label",14),l(33,"Location:"),o()(),n(34,"div",6),c(35,"input",15),o()(),n(36,"div",2)(37,"div",3)(38,"label",16),l(39,"Duration:"),o()(),n(40,"div",6),c(41,"input",17),o()()()()),i&2&&(d("formGroup",t.serviceForm),m(9),A("is-invalid",t.serviceForm.controls.service_name.invalid&&t.isSubmitted),m(14),A("is-invalid",t.serviceForm.controls.available_to_public.invalid&&t.isSubmitted))},dependencies:[U,j,ne,qe,B,G,ke,se,$]});let s=r;return s})();var ot=["serviceFormComponentReference"],nt=["successToastComponentReference"],st=["errorToastComponentReference"],at=()=>({name:"All Services",link:"#/home/extras/services/all-services"}),lt=()=>({name:"Create Service",link:"#/home/extras/services/all-services/create-service"}),ct=(s,r)=>[s,r],Oe=(()=>{let r=class r{constructor(e,i){this.router=e,this.serviceService=i,this.isLoading=!1}onSave(){this.serviceForm.isSubmitted=!0,this.serviceForm.serviceForm.valid&&this.createService()}createService(){let e=this.getServiceData();this.isLoading=!0,this.serviceService.createService(e).subscribe({next:i=>{console.log(i),localStorage.setItem("hotel_service_id",i.id),this.isLoading=!1,this.router.navigateByUrl("/home/extras/services/all-services/edit-view-service/"+i.id),this.successToast.openToast()},error:i=>{console.log(i),this.isLoading=!1,this.errorToast.openToast()}})}getServiceData(){return{hotel:localStorage.getItem("hotel_id"),service_name:this.serviceForm.serviceForm.controls.service_name.value,description:this.serviceForm.serviceForm.controls.description.value,price:this.serviceForm.serviceForm.controls.price.value,location:this.serviceForm.serviceForm.controls.location.value,duration:this.serviceForm.serviceForm.controls.duration.value,available_to_public:this.serviceForm.serviceForm.controls.available_to_public.value}}cancel(){this.router.navigate(["/home/extras/services/all-services"])}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-create-service"]],viewQuery:function(i,t){if(i&1&&(h(ot,5,M),h(nt,5,T),h(st,5,E)),i&2){let a;S(a=g())&&(t.serviceForm=a.first),S(a=g())&&(t.successToast=a.first),S(a=g())&&(t.errorToast=a.first)}},decls:18,vars:9,consts:[["serviceFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"]],template:function(i,t){if(i&1){let a=w();c(0,"app-topnav",3),n(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),l(6,"Add New Service"),o(),c(7,"app-service-form",null,0),n(9,"div",9)(10,"button",10),u("click",function(){return v(a),f(t.onSave())}),l(11," Save "),o(),n(12,"button",11),u("click",function(){return v(a),f(t.cancel())}),l(13," Cancel "),o()()()()()(),c(14,"app-error-toast",null,1)(16,"app-success-toast",null,2)}i&2&&(d("pageTitle","Services")("navItems",L(6,ct,F(4,at),F(5,lt))),m(10),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading))},dependencies:[D,T,E,M]});let s=r;return s})();var dt=["serviceFormComponentReference"],ut=["successToastComponentReference"],pt=["errorToastComponentReference"],vt=["deleteModalOneComponentReference"],ft=()=>({name:"Services",link:"#/home/extras/services/all-services"}),_t=()=>({name:"View-Edit Service",link:"#/home/extras/services/all-services/edit-view-service"}),ht=(s,r)=>[s,r],je=(()=>{let r=class r{constructor(e,i){this.router=e,this.serviceService=i,this.isLoading=!1}onSave(){this.serviceForm.isSubmitted=!0,this.serviceForm.serviceForm.valid&&this.updateService()}onDelete(){this.deleteModalOne.openModal()}ngAfterViewInit(){this.getService()}getService(){this.isLoading=!0,this.serviceService.getService().subscribe({next:e=>{console.log(e),this.setServiceData(e),this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}updateService(){let e=this.getServiceData();this.isLoading=!0,this.serviceService.updateService(e).subscribe({next:i=>{console.log(i),this.successToast.openToast(),this.isLoading=!1},error:i=>{console.log(i),this.isLoading=!1,this.errorToast.openToast()}})}deleteService(){this.isLoading=!0,this.serviceService.deleteService().subscribe({next:e=>{console.log(e),this.isLoading=!1,this.router.navigateByUrl("/home/extras/services/all-services")},error:e=>{console.log(e),this.isLoading=!1,this.errorToast.openToast()}})}cancel(){this.router.navigate(["/home/extras/services/all-services"])}setServiceData(e){this.serviceForm.serviceForm.controls.service_name.setValue(e.service_name),this.serviceForm.serviceForm.controls.description.setValue(e.description),this.serviceForm.serviceForm.controls.price.setValue(e.price),this.serviceForm.serviceForm.controls.location.setValue(e.location),this.serviceForm.serviceForm.controls.duration.setValue(e.duration),this.serviceForm.serviceForm.controls.available_to_public.setValue(e.available_to_public)}getServiceData(){return{hotel:localStorage.getItem("hotel_id"),service_name:this.serviceForm.serviceForm.controls.service_name.value,description:this.serviceForm.serviceForm.controls.description.value,price:this.serviceForm.serviceForm.controls.price.value,location:this.serviceForm.serviceForm.controls.location.value,duration:this.serviceForm.serviceForm.controls.duration.value,available_to_public:this.serviceForm.serviceForm.controls.available_to_public.value}}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-edit-view-service"]],viewQuery:function(i,t){if(i&1&&(h(dt,5,M),h(ut,5,T),h(pt,5,E),h(vt,5,x)),i&2){let a;S(a=g())&&(t.serviceForm=a.first),S(a=g())&&(t.successToast=a.first),S(a=g())&&(t.errorToast=a.first),S(a=g())&&(t.deleteModalOne=a.first)}},decls:22,vars:10,consts:[["serviceFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],["deleteModalOneComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-danger","float-end","ms-2","form-control-btn",3,"click","disabled"],[3,"confirmEvent"]],template:function(i,t){if(i&1){let a=w();c(0,"app-topnav",4),n(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h5",9),l(6,"View-Edit Service"),o(),c(7,"app-service-form",null,0),n(9,"div",8)(10,"button",10),u("click",function(){return v(a),f(t.onSave())}),l(11," Save "),o(),n(12,"button",11),u("click",function(){return v(a),f(t.cancel())}),l(13," Cancel "),o(),n(14,"button",12),u("click",function(){return v(a),f(t.onDelete())}),l(15," Delete "),o()()()()()(),c(16,"app-error-toast",null,1)(18,"app-success-toast",null,2),n(20,"app-delete-modal-one",13,3),u("confirmEvent",function(){return v(a),f(t.deleteService())}),o()}i&2&&(d("pageTitle","Services")("navItems",L(7,ht,F(5,ft),F(6,_t))),m(10),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading))},dependencies:[D,x,T,E,M]});let s=r;return s})();var St=()=>({name:"All Service Request",link:"#home/extras/services/all-services"}),gt=s=>[s];function bt(s,r){if(s&1){let b=w();n(0,"tr",20),u("click",function(){let i=v(b).$implicit,t=O();return f(t.viewServiceRequestDetails(i.id))}),n(1,"td"),l(2),o(),n(3,"td"),l(4),o(),n(5,"td"),l(6),o(),n(7,"td"),l(8),o()()}if(s&2){let b=r.$implicit;m(2),I(b.service==null?null:b.service.service_name),m(2),I(b==null?null:b.service_request_id),m(2),I(b==null?null:b.check_in.checkin_id),m(2),I(b==null?null:b.status)}}function Ct(s,r){if(s&1&&(n(0,"tr")(1,"td",21),c(2,"app-table-loader",22),o()()),s&2){let b=O();m(2),d("isLoading",b.isFetchingListData)("isNoData",b.isDataAvailable)}}var Se=(()=>{let r=class r{constructor(e,i){this.router=e,this.servicesService=i,this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"},this.serviceRequestListData=[]}ngAfterViewInit(){this.getAllHotelServiceRequest()}getAllHotelServiceRequest(){this.isFetchingListData=!0,this.servicesService.getAllHotelServiceRequest().subscribe({next:e=>{console.log(e),this.serviceRequestListData=e.results,this.pagination.currentPage=e.current_page,this.pagination.totalPages=e.total_pages,this.pagination.totalItems=e.count,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:e=>{console.log(e)},complete:()=>{this.isFetchingListData=!1}})}pageSelected(){this.getAllHotelServiceRequest()}columnSorted(e){console.log(e),this.sorting.currentField=e.field,this.sorting.currentDirection=e.direction,this.getAllHotelServiceRequest()}tableFiltered(e){this.filterQuery=e,this.getAllHotelServiceRequest()}viewServiceRequestDetails(e){localStorage.setItem("hotel_service_request_id",e),this.router.navigate(["/home/extras/services/service-requests/edit-view-request/",e])}goToCreateServiceRequest(){this.router.navigate(["/home/extras/services/service-requests/create-request"])}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-service-requests"]],decls:31,vars:27,consts:[[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"d-inline-block","w-100","mb-3"],[1,"btn","btn-primary","btn-sm","mb-3","grid-add-btn",3,"click"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","35%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","15%"],["width","20%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],[1,"col-md-3"],["link","/home/extras/services/all-services","name","Go to All Services"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(i,t){i&1&&(c(0,"app-topnav",0),n(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),l(6,"Services"),o(),n(7,"div",6)(8,"button",7),u("click",function(){return t.goToCreateServiceRequest()}),l(9," Make Service Request "),o(),n(10,"app-table-filtering",8),u("tableFiltered",function(p){return t.tableFiltered(p)}),o()(),n(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th",11)(16,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(17,"th",13)(18,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(19,"th",11)(20,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()(),n(21,"th",14)(22,"app-table-sorting",12),u("columnSorted",function(p){return t.columnSorted(p)}),o()()()(),n(23,"tbody"),ee(24,bt,9,4,"tr",15)(25,Ct,3,2,"tr",16),o()()(),n(26,"app-table-pagination",17),u("pageSelected",function(){return t.pageSelected()}),o()()()(),n(27,"div",18)(28,"div",3)(29,"div",4),c(30,"app-page-link-button",19),o()()()()),i&2&&(d("pageTitle","Services")("navItems",ie(25,gt,F(24,St))),m(10),d("placeholder","Search Services"),m(6),d("columnTitle"," Request Name")("thisField","service")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle"," Request ID")("thisField","service_request_id")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle","Check In ID")("thisField","check_in")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("columnTitle","Status")("thisField","status")("currentField",t.sorting.currentField)("currentDirection",t.sorting.currentDirection),m(2),d("ngForOf",t.serviceRequestListData),m(),d("ngIf",t.isFetchingListData||!t.isDataAvailable),m(),d("totalItems",t.pagination.totalItems)("currentPage",t.pagination.currentPage)("totalItems",t.pagination.totalItems))},dependencies:[re,oe,D,le,ce,me,ae,de]});let s=r;return s})();var wt=["selectCheckinComponentReference"],Ft=["selectServiceComponentReference"],qt=["selectStaffComponentReference"],N=(()=>{let r=class r{constructor(){this.requestForm=new H({}),this.selectedServiceId="",this.selectedCheckInId="",this.selectedStaffId="",this.isSubmitted=!1}ngOnInit(){this.initRequestForm()}initRequestForm(){this.requestForm=new H({service:new q({value:"",disabled:!0},Q.required),check_in:new q({value:"",disabled:!0},Q.required),service_request_id:new q(""),staff_assigned_to:new q({value:"",disabled:!0}),request_date_time:new q("",Q.required),status:new q("pending"),notes:new q("")})}serviceRowSelected(e){this.selectedServiceId=e?.id,this.requestForm.controls.service.setValue(e?.service_name)}checkinRowSelected(e){this.selectedCheckInId=e?.id,this.requestForm.controls.check_in.setValue(e?.checkin_id)}staffRowSelected(e){this.selectedStaffId=e?.id,this.requestForm.controls.staff_assigned_to.setValue(e?.first_name+" "+e?.last_name)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-request-form"]],viewQuery:function(i,t){if(i&1&&(h(wt,5,z),h(Ft,5,J),h(qt,5,K)),i&2){let a;S(a=g())&&(t.selectCheckin=a.first),S(a=g())&&(t.selectService=a.first),S(a=g())&&(t.selectStaff=a.first)}},decls:72,vars:7,consts:[["selectServiceComponentReference",""],["selectCheckinComponentReference",""],["selectStaffComponentReference",""],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-4"],["for","service",1,"float-md-end","float-sm-start","col-form-label"],[1,"text-danger"],[1,"col-md-8"],[1,"input-group","w-100"],["type","text","id","service","formControlName","service",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-window"],["for","check_in",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","check_in","formControlName","check_in",1,"form-control"],["for","service_request_id",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","service_request_id","formControlName","service_request_id",1,"form-control"],["for","staff_assigned_to",1,"float-md-end","float-sm-start","col-form-label"],["type","text","id","staff_assigned_to","formControlName","staff_assigned_to",1,"form-control"],["for","request_date_time",1,"float-md-end","float-sm-start","col-form-label"],["type","datetime-local","id","request_date_time","formControlName","request_date_time",1,"form-control"],["for","status",1,"float-md-end","float-sm-start","col-form-label"],["id","status","formControlName","status",1,"form-control"],["value","Pending"],["value","In Progress"],["value","Completed"],["value","Cancelled"],["for","notes",1,"float-md-end","float-sm-start","col-form-label"],["id","notes","formControlName","notes","rows","3",1,"form-control"],[3,"rowSelected"]],template:function(i,t){if(i&1){let a=w();n(0,"form",3)(1,"div",4)(2,"div",5)(3,"label",6)(4,"span",7),l(5,"* "),o(),l(6," Service"),o()(),n(7,"div",8)(8,"div",9),c(9,"input",10),n(10,"button",11),u("click",function(){v(a);let V=te(67);return f(V.openModal())}),c(11,"i",12),o()()()(),n(12,"div",4)(13,"div",5)(14,"label",13)(15,"span",7),l(16,"* "),o(),l(17," Check-in"),o()(),n(18,"div",8)(19,"div",9),c(20,"input",14),n(21,"button",11),u("click",function(){v(a);let V=te(69);return f(V.openModal())}),c(22,"i",12),o()()()(),n(23,"div",4)(24,"div",5)(25,"label",15),l(26,"Service Request ID"),o()(),n(27,"div",8),c(28,"input",16),o()(),n(29,"div",4)(30,"div",5)(31,"label",17),l(32,"Staff Assigned To "),o()(),n(33,"div",8)(34,"div",9),c(35,"input",18),n(36,"button",11),u("click",function(){v(a);let V=te(71);return f(V.openModal())}),c(37,"i",12),o()()()(),n(38,"div",4)(39,"div",5)(40,"label",19)(41,"span",7),l(42,"* "),o(),l(43," Request Date Time"),o()(),n(44,"div",8),c(45,"input",20),o()(),n(46,"div",4)(47,"div",5)(48,"label",21),l(49,"Status"),o()(),n(50,"div",8)(51,"select",22)(52,"option",23),l(53,"Pending"),o(),n(54,"option",24),l(55,"In Progress"),o(),n(56,"option",25),l(57,"Completed"),o(),n(58,"option",26),l(59,"Cancelled"),o()()()(),n(60,"div",4)(61,"div",5)(62,"label",27),l(63,"Notes"),o()(),n(64,"div",8),c(65,"textarea",28),o()()(),n(66,"app-select-service",29,0),u("rowSelected",function(V){return v(a),f(t.serviceRowSelected(V))}),o(),n(68,"app-select-checkin",29,1),u("rowSelected",function(V){return v(a),f(t.checkinRowSelected(V))}),o(),n(70,"app-select-staff",29,2),u("rowSelected",function(V){return v(a),f(t.staffRowSelected(V))}),o()}i&2&&(d("formGroup",t.requestForm),m(9),A("is-invalid",t.requestForm.controls.service.invalid&&t.isSubmitted),m(11),A("is-invalid",t.requestForm.controls.check_in.invalid&&t.isSubmitted),m(25),A("is-invalid",t.requestForm.controls.request_date_time.invalid&&t.isSubmitted))},dependencies:[U,Te,Ee,j,Re,B,G,se,$,J,z,K]});let s=r;return s})();var yt=["requestFormComponentReference"],Rt=()=>({name:"All Service Requests",link:"#/home/extras/services"}),Tt=()=>({name:"Create Request",link:"#/home/extras/services/service-requests/create-request"}),Et=(s,r)=>[s,r],Ge=(()=>{let r=class r{constructor(e,i){this.router=e,this.serviceService=i,this.isLoading=!1}onSave(){this.requestForm.isSubmitted=!0,this.requestForm.requestForm.valid&&this.createServiceRequest()}createServiceRequest(){let e=this.getServiceData();this.isLoading=!0,this.serviceService.createServiceRequest(e).subscribe({next:i=>{console.log(i),localStorage.setItem("hotel_service_request_id",i.id),this.isLoading=!1,this.router.navigateByUrl("/home/extras/services/service-requests/edit-view-request/"+i.id)},error:i=>{console.log(i),this.isLoading=!1}})}getServiceData(){return{hotel:localStorage.getItem("hotel_id"),service:this.requestForm.selectedServiceId,check_in:this.requestForm.selectedCheckInId,staff_assigned_to:this.requestForm.selectedStaffId,service_request_id:this.requestForm.requestForm.controls.service_request_id.value,request_date_time:this.requestForm.requestForm.controls.request_date_time.value,status:this.requestForm.requestForm.controls.status.value,notes:this.requestForm.requestForm.controls.notes.value}}cancel(){this.router.navigate(["/home/extras/services"])}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-create-request"]],viewQuery:function(i,t){if(i&1&&h(yt,5,N),i&2){let a;S(a=g())&&(t.requestForm=a.first)}},decls:18,vars:9,consts:[["requestFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"]],template:function(i,t){if(i&1){let a=w();c(0,"app-topnav",3),n(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),l(6,"Make Request"),o(),c(7,"app-request-form",null,0),n(9,"div",9)(10,"button",10),u("click",function(){return v(a),f(t.onSave())}),l(11," Save "),o(),n(12,"button",11),u("click",function(){return v(a),f(t.cancel())}),l(13," Cancel "),o()()()()()(),c(14,"app-error-toast",null,1)(16,"app-success-toast",null,2)}i&2&&(d("pageTitle","Services")("navItems",L(6,Et,F(4,Rt),F(5,Tt))),m(10),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading))},dependencies:[D,T,E,N]});let s=r;return s})();var kt=["requestFormComponentReference"],Dt=["successToastComponentReference"],Vt=["errorToastComponentReference"],It=["deleteModalOneComponentReference"],Lt=()=>({name:"Service Requests",link:"#/home/extras/services/service-requests"}),xt=()=>({name:"View-Edit Service Request",link:"#/home/extras/services/service-requests/edit-view-service"}),Mt=(s,r)=>[s,r],He=(()=>{let r=class r{constructor(e,i){this.router=e,this.requestRequest=i,this.isLoading=!1}onSave(){this.requestForm.isSubmitted=!0,this.requestForm.requestForm.valid&&this.updateServiceRequest()}onDelete(){this.deleteModalOne.openModal()}ngAfterViewInit(){this.getServiceRequest()}getServiceRequest(){this.isLoading=!0,this.requestRequest.getServiceRequest().subscribe({next:e=>{console.log(e),this.setRequestData(e),this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}updateServiceRequest(){let e=this.getServiceRequestData();this.isLoading=!0,this.requestRequest.updateServiceRequest(e).subscribe({next:i=>{console.log(i),this.isLoading=!1,this.successToast.openToast()},error:i=>{console.log(i),this.isLoading=!1,this.errorToast.openToast()}})}deleteServiceRequest(){this.isLoading=!0,this.requestRequest.deleteServiceRequest().subscribe({next:e=>{console.log(e),this.isLoading=!1,this.router.navigateByUrl("/home/infrastructure/services/service-requests/")},error:e=>{console.log(e),this.isLoading=!1,this.errorToast.openToast}})}cancel(){this.router.navigate(["/home/extras/services/service-requests"])}setRequestData(e){this.requestForm.requestForm.controls.service.setValue(e.service.service_name),this.requestForm.selectedServiceId=e.service.id,this.requestForm.requestForm.controls.check_in.setValue(e.check_in?.checkin_id),this.requestForm.selectedCheckInId=e.check_in?.id,this.requestForm.requestForm.controls.service_request_id.setValue(e.service_request_id),this.requestForm.requestForm.controls.staff_assigned_to.setValue(e.staff_assigned_to?.first_name+" "+e.staff_assigned_to?.last_name),this.requestForm.selectedStaffId=e.staff_assigned_to?.id,this.requestForm.requestForm.controls.request_date_time.setValue(e.request_date_time),this.requestForm.requestForm.controls.status.setValue(e.status),this.requestForm.requestForm.controls.notes.setValue(e.notes)}getServiceRequestData(){return{hotel:localStorage.getItem("hotel_id"),service:this.requestForm.selectedServiceId,check_in:this.requestForm.selectedCheckInId,service_request_id:this.requestForm.requestForm.controls.service_request_id.value,staff_assigned_to:this.requestForm.selectedStaffId,request_date_time:this.requestForm.requestForm.controls.request_date_time.value,status:this.requestForm.requestForm.controls.status.value,notes:this.requestForm.requestForm.controls.notes.value}}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-edit-view-request"]],viewQuery:function(i,t){if(i&1&&(h(kt,5,N),h(Dt,5,T),h(Vt,5,E),h(It,5,x)),i&2){let a;S(a=g())&&(t.requestForm=a.first),S(a=g())&&(t.successToast=a.first),S(a=g())&&(t.errorToast=a.first),S(a=g())&&(t.deleteModalOne=a.first)}},decls:22,vars:10,consts:[["requestFormComponentReference",""],["errorToastComponentReference",""],["successToastComponentReference",""],["deleteModalOneComponentReference",""],[3,"pageTitle","navItems"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"col","mt-3"],["type","submit",1,"btn","btn-sm","btn-success","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-warning","float-end","ms-2","form-control-btn",3,"click","disabled"],["type","reset",1,"btn","btn-sm","btn-danger","float-end","ms-2","form-control-btn",3,"click","disabled"],[3,"confirmEvent"]],template:function(i,t){if(i&1){let a=w();c(0,"app-topnav",4),n(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h5",9),l(6,"View-Edit Service Request"),o(),c(7,"app-request-form",null,0),n(9,"div",10)(10,"button",11),u("click",function(){return v(a),f(t.onSave())}),l(11," Save "),o(),n(12,"button",12),u("click",function(){return v(a),f(t.cancel())}),l(13," Cancel "),o(),n(14,"button",13),u("click",function(){return v(a),f(t.onDelete())}),l(15," Delete "),o()()()()()(),c(16,"app-error-toast",null,1)(18,"app-success-toast",null,2),n(20,"app-delete-modal-one",14,3),u("confirmEvent",function(){return v(a),f(t.deleteServiceRequest())}),o()}i&2&&(d("pageTitle","Services")("navItems",L(7,Mt,F(5,Lt),F(6,xt))),m(10),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading),m(2),d("disabled",t.isLoading))},dependencies:[D,x,T,E,N]});let s=r;return s})();var Ue=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-service-reviews"]],decls:2,vars:0,template:function(i,t){i&1&&(n(0,"p"),l(1,"service-reviews works!"),o())}});let s=r;return s})();var pe=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-review-form"]],decls:19,vars:0,consts:[[1,"module-form-control","form-group","row"],[1,"row","mb-1"],[1,"col-md-4"],["for","guest",1,"float-md-end","float-sm-start","col-form-label"],[1,"col-md-8"],["type","text","name","guest","id","guest","formControlName","guest",1,"form-control","form-control-sm"],["for","rating",1,"float-md-end","float-sm-start","col-form-label"],["type","number","name","rating","id","rating","formControlName","rating",1,"form-control","form-control-sm"],["for","review",1,"float-md-end","float-sm-start","col-form-label"],["name","review","id","review","formControlName","review",1,"form-control","form-control-sm"]],template:function(i,t){i&1&&(n(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),l(4,"Guest"),o()(),n(5,"div",4),c(6,"input",5),o()(),n(7,"div",1)(8,"div",2)(9,"label",6),l(10,"Rating"),o()(),n(11,"div",4),c(12,"input",7),o()(),n(13,"div",1)(14,"div",2)(15,"label",8),l(16,"Review"),o()(),n(17,"div",4),c(18,"textarea",9),o()()())},dependencies:[U,j,ne,B,G,ye,$]});let s=r;return s})();var At=["newReviewButtonElementReference"],Qt=["dismissReviewButtonElementReference"],$e=(()=>{let r=class r{constructor(e,i){this.router=e,this.guestsService=i,this.onReviewCreation=new Ce}openModal(){this.newButton.nativeElement.click()}closeModal(){this.dismissButton.nativeElement.click()}handleCreateReview(){let e=this.getReviewFormData();this.createMenuReview(e)}handleCancelForm(){this.router.navigate(["/home/food/menus/categories"])}getReviewFormData(){return this.reviewForm.reviewForm.value}createMenuReview(e){let i=localStorage.getItem("hotel_id"),t=be(ge({},e),{hotel:i});console.log(t),this.guestsService.createServiceReview(t).subscribe({next:()=>{"Menu has been created successfully";this.onReviewCreation.emit()},error:a=>{`${a}`},complete:()=>{console.log("Complete menu posting action")}})}};r.\u0275fac=function(i){return new(i||r)(C(y),C(R))},r.\u0275cmp=_({type:r,selectors:[["app-create-review"]],viewQuery:function(i,t){if(i&1&&(h(pe,5),h(At,5,ve),h(Qt,5,ve)),i&2){let a;S(a=g())&&(t.reviewForm=a.first),S(a=g())&&(t.newButton=a.first),S(a=g())&&(t.dismissButton=a.first)}},outputs:{onReviewCreation:"onReviewCreation"},decls:18,vars:0,consts:[["newReviewButtonElementReference",""],["dismissReviewButtonElementReference",""],["hidden","true","data-bs-toggle","modal","data-bs-target","#newReviewModal"],["id","newReviewModal","tabindex","-1","aria-labelledby","newReviewLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","newReviewLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-warning","form-control-btn"],["type","button","data-bs-dismiss","modal",1,"btn","btn-sm","btn-success","form-control-btn",3,"click"]],template:function(i,t){if(i&1){let a=w();n(0,"button",2,0),l(2,` Launch demo modal
`),o(),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),l(8,"Add Review"),o(),c(9,"button",8,1),o(),n(11,"div",9),c(12,"app-review-form"),o(),n(13,"div",10)(14,"button",11),l(15," Cancel "),o(),n(16,"button",12),u("click",function(){return v(a),f(t.handleCreateReview())}),l(17," Save "),o()()()()()}},dependencies:[pe]});let s=r;return s})();var ze=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_({type:r,selectors:[["app-edit-view-review"]],decls:2,vars:0,template:function(i,t){i&1&&(n(0,"p"),l(1,"edit-view-review works!"),o())}});let s=r;return s})();var Pt=[{path:"",component:Ne,children:[{path:"",component:Se},{path:"service-requests",component:Se},{path:"service-requests/create-request",component:Ge},{path:"service-requests/edit-view-request/:id",component:He},{path:"all-services",component:Ae},{path:"all-services/create-service",component:Oe},{path:"all-services/edit-view-service/:id",component:je},{path:"service-reviews",component:Ue},{path:"service-reviews/create-review",component:$e},{path:"service-reviews/edit-view-review/:id",component:ze}]}],Je=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Z({type:r}),r.\u0275inj=Y({imports:[fe.forChild(Pt),fe]});let s=r;return s})();var br=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Z({type:r}),r.\u0275inj=Y({imports:[we,De,Ve,Je,Le,Ie,xe,de,ue,J,z,K,Me]});let s=r;return s})();export{br as ServicesModule};
