import{a as pe}from"./chunk-MFPXOXAK.js";import{a as D}from"./chunk-DNX6FE6Q.js";import{a as de}from"./chunk-6TRWRYDX.js";import{a as fe}from"./chunk-SCGM7UR2.js";import{a as ge,e as xe}from"./chunk-3OLZPOF4.js";import{a as ve,b as Se}from"./chunk-2CWSCGBW.js";import{b as le}from"./chunk-7VKPFLA4.js";import"./chunk-LN2M4CNM.js";import{b as ee,d as te,e as ie,g as oe,i as re,j as ne,u as ae,v as se}from"./chunk-RQYECNT5.js";import{a as me,b as ue,c as be}from"./chunk-DLHF56RI.js";import{a as he,b as ye}from"./chunk-FPJA3BC7.js";import{a as ce}from"./chunk-4KWRJRMG.js";import"./chunk-HPKXDFTW.js";import{a as X,b as Y,c as Z}from"./chunk-VX3URHZF.js";import"./chunk-OP5MBVD7.js";import{$a as W,A as b,Ca as O,Da as $,Ea as V,F as v,G as y,Ia as Q,K as T,L as M,U as H,V as a,W as d,Za as q,_a as E,aa as x,ca as p,cb as z,d as P,ga as _,ha as I,ia as C,ja as o,ka as r,la as c,lb as G,ma as B,mb as w,na as g,nb as J,oa as u,p as A,qb as F,rb as K,s as j,u as N,v as U,xa as l,ya as f,za as k}from"./chunk-TK5UYZ3D.js";var Ie=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=v({type:t,selectors:[["app-profile"]],decls:4,vars:1,consts:[[1,"fixed-top"],[3,"navTitle"]],template:function(s,n){s&1&&(o(0,"div",0),c(1,"app-navbar",1),r(),c(2,"router-outlet")(3,"app-footer")),s&2&&(a(),p("navTitle","Hotel"))},dependencies:[G,X,Y]});let i=t;return i})();var Le=i=>({"background-image":i});function Pe(i,t){if(i&1&&(o(0,"div",17)(1,"div",18),c(2,"div",19),o(3,"div",20)(4,"div",21)(5,"div",3)(6,"div",4)(7,"div",22)(8,"div",23)(9,"p",24),l(10),c(11,"br"),l(12),r(),o(13,"h1",25)(14,"span",26),l(15),r()(),o(16,"p",27),l(17),r()()()()()()()()()),i&2){let m=u();a(),p("ngStyle",Q(5,Le,"url("+(m.profile.profile_image?m.profile.profile_image:"assets/images/bm-estate/slide-1.jpg")+")")),a(9),k(" ",m.profile.address||"Doral, Florida"," "),a(2),k(" ",m.profile.phone||"78345"," "),a(3),f(m.profile.hotel_name||"Hotel Name"),a(2),f(m.profile.about||"Aut ab a reiciendis")}}function Te(i,t){if(i&1&&(o(0,"div",13),c(1,"app-room-card",28),r()),i&2){let m=t.$implicit;a(),p("hotelRoom",m)}}function Me(i,t){if(i&1&&(o(0,"div",15),c(1,"app-service-card",29),r()),i&2){let m=t.$implicit;a(),p("service",m)}}function ke(i,t){i&1&&(o(0,"div",15),c(1,"app-amenity-card"),r())}var Ce=(()=>{let t=class t{constructor(e,s,n,S,h){this.router=e,this.profileService=s,this.roomService=n,this.serviceService=S,this.amenityService=h,this.hotelId=localStorage.getItem("hotel_profile_id"),this.rooms=le.slice(0,3),this.services=me.slice(0,3),this.amenities=ce.slice(0,3),this.isLoading=!0,this.profile={}}set profileId(e){this.hotelId=e}ngAfterViewInit(){this.getHotel(),this.getRooms(),this.getServices(),this.getAmenities()}getHotel(){this.profileService.getProfileById(this.hotelId).subscribe({next:e=>{console.log("Received d:",e),this.profile=e,this.profile.profile_image&&(this.profile.profile_image=`${K.apiBaseUrl}${this.profile.profile_image}`)},error:e=>{console.error("Error occurred:",e)},complete:()=>{this.isLoading=!1}})}getRooms(){this.roomService.getAllHotelRooms().subscribe({next:({results:e})=>{console.log("Received data:",e),this.rooms=e.slice(0,3)},error:e=>{console.error("Error occurred:",e),this.rooms=[]},complete:()=>{this.isLoading=!1}})}getAmenities(){this.amenityService.getAllHotelAmenities().subscribe({next:({results:e})=>{console.log("Received data:",e),this.amenities=e.slice(0,3)},error:e=>{console.error("Error occurred:",e),this.amenities=[]},complete:()=>{this.isLoading=!1}})}getServices(){this.serviceService.getAllHotelService().subscribe({next:({results:e})=>{console.log("Received data:",e),this.services=e.slice(0,3)},error:e=>{console.error("Error occurred:",e),this.services=[]},complete:()=>{this.isLoading=!1}})}};t.\u0275fac=function(s){return new(s||t)(d(w),d(D),d(pe),d(de),d(fe))},t.\u0275cmp=v({type:t,selectors:[["app-profile-info"]],inputs:{profileId:"profileId"},decls:47,vars:4,consts:[["class","intro position-relative",4,"ngIf"],["id","main"],[1,"section-property","section-t8"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"title-wrap","d-flex","justify-content-between"],[1,"title-box"],[1,"title-a"],[1,"title-link"],[3,"routerLink"],[1,"bi","bi-chevron-right"],["id","property-carousel",1,"row"],[1,"carousel-item-b","col-md-4"],[1,"section-services","section-t8"],[1,"col-sm-12","col-md-6","col-lg-4","mb-3"],[1,"section-amenities","section-t8"],[1,"intro","position-relative"],[1,"swiper-slide","carousel-item-a","intro-item","bg-image",3,"ngStyle"],[1,"overlay","overlay-a"],[1,"intro-content","display-table"],[1,"table-cell"],[1,"col-lg-8"],[1,"intro-body"],[1,"intro-title-top"],[1,"intro-title","mb-4"],[1,"color-b"],[1,"intro-subtitle"],[3,"hotelRoom"],[3,"service"]],template:function(s,n){s&1&&(x(0,Pe,18,7,"div",0),o(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),l(9,"Rooms"),r()(),o(10,"div",9)(11,"a",10),l(12,"All Rooms "),c(13,"span",11),r()()()()(),o(14,"div",12),I(15,Te,2,1,"div",13,_),r()()(),o(17,"section",14)(18,"div",3)(19,"div",4)(20,"div",5)(21,"div",6)(22,"div",7)(23,"h2",8),l(24,"Our Services"),r()(),o(25,"div",9)(26,"a",10),l(27,"All Services "),c(28,"span",11),r()()()()(),o(29,"div",4),I(30,Me,2,1,"div",15,_),r()()(),o(32,"section",16)(33,"div",3)(34,"div",4)(35,"div",5)(36,"div",6)(37,"div",7)(38,"h2",8),l(39,"Our Amenities"),r()(),o(40,"div",9)(41,"a",10),l(42,"All Amenities "),c(43,"span",11),r()()()()(),o(44,"div",4),I(45,ke,2,0,"div",15,_),r()()()()),s&2&&(p("ngIf",n.profile),a(11),p("routerLink","/booking/"+n.hotelId+"/rooms"),a(4),C(n.rooms),a(11),p("routerLink","/services/"+n.hotelId+"/services"),a(4),C(n.services),a(11),p("routerLink","/amenities/"+n.hotelId+"/amenities"),a(4),C(n.amenities))},dependencies:[E,W,J,ve,ue,he]});let i=t;return i})();function Fe(i,t){if(i&1){let m=B();o(0,"tr",15),g("click",function(){let s=T(m).$implicit,n=u();return M(n.viewUserDetails(s.id))}),o(1,"td",16),g("click",function(){let s=T(m).$implicit,n=u();return M(n.viewUserDetails(s.id))}),c(2,"img",17),r(),o(3,"td"),l(4),r(),o(5,"td"),l(6),r(),o(7,"td"),l(8),r()()}if(i&2){let m=t.$implicit;a(2),p("src",m.profile_image||"../assets/images/default.jpg",H),a(2),f(m.hotel_name),a(2),f(m.email),a(2),f(m.phone)}}function Re(i,t){if(i&1&&(o(0,"tr")(1,"td",18),c(2,"app-table-loader",19),r()()),i&2){let m=u();a(2),p("isLoading",m.isFetchingListData)("isNoData",m.isDataAvailable)}}var R=(()=>{let t=class t{constructor(e,s){this.router=e,this.profileService=s,this.destroy$=new P,this.searchTerms=new P,this.isFetchingListData=!1,this.isDataAvailable=!0,this.userListData=[],this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0}}ngOnInit(){this.getAllUsers(),this.setupSearch()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getAllUsers(){this.isFetchingListData=!0,this.profileService.getAllHotelProfiles().subscribe(e=>{this.updateUserList(e),this.isFetchingListData=!1})}setupSearch(){this.searchTerms.pipe(A(300),j(),N(e=>this.profileService.getAllHotelProfileByName(e)),U(this.destroy$)).subscribe({next:e=>{this.updateUserList(e)},error:e=>{console.error("Search failed:",e),this.userListData=[],this.isDataAvailable=!1,this.isFetchingListData=!1}})}searchProfiles(e){this.isFetchingListData=!0,this.searchTerms.next(e)}updateUserList(e){this.userListData=e,this.pagination.totalItems=e.length,this.pagination.totalPages=Math.ceil(e.length/10),this.isDataAvailable=e.length>0,this.isFetchingListData=!1,this.pagination.currentPage=1}viewUserDetails(e){localStorage.setItem("hotel_profile_id",e),this.router.navigate(["/profile/view-details/",e])}};t.\u0275fac=function(s){return new(s||t)(d(w),d(D))},t.\u0275cmp=v({type:t,selectors:[["app-profile-search"]],decls:33,vars:5,consts:[[1,"container","mt-5"],[1,"row","justify-content-center","mb-4"],[1,"col-md-8"],["id","search-form",3,"ngSubmit"],[1,"input-group","mb-3"],["type","text","placeholder","Search for name","name","search",1,"form-control",3,"ngModelChange","input","ngModel"],["type","submit",1,"btn","input-group-text"],[1,"feather","icon-search"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"mb-3"],[1,"table-responsive"],[1,"table","table-hover"],["style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"cursor","pointer",3,"click"],[3,"click"],["alt","Profile Image",2,"width","50px","height","40px",3,"src"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(s,n){s&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),g("ngSubmit",function(){return n.searchProfiles(n.filterQuery)}),o(4,"div",4)(5,"input",5),V("ngModelChange",function(h){return $(n.filterQuery,h)||(n.filterQuery=h),h}),g("input",function(){return n.searchProfiles(n.filterQuery)}),r(),o(6,"button",6),c(7,"i",7),r()()()()(),o(8,"div",8)(9,"div",9)(10,"div",10),l(11," Showing "),o(12,"b"),l(13),r(),l(14," out of "),o(15,"b"),l(16),r(),l(17," results "),r(),o(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),l(23,"Image"),r(),o(24,"th"),l(25,"Hotel Name"),r(),o(26,"th"),l(27,"Email"),r(),o(28,"th"),l(29,"Phone"),r()()(),o(30,"tbody"),x(31,Fe,9,4,"tr",13)(32,Re,3,2,"tr",14),r()()()()()()),s&2&&(a(5),O("ngModel",n.filterQuery),a(8),f(n.userListData.length),a(3),f(n.pagination.totalItems),a(15),p("ngForOf",n.userListData),a(),p("ngIf",n.isFetchingListData||n.userListData.length===0))},dependencies:[q,E,ge,ne,ee,te,ie,re,oe]});let i=t;return i})();var Ae=[{path:"",component:Ie,children:[{path:"",component:R},{path:"search",component:R},{path:"view-details/:profileId",component:Ce}]}],Ee=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=y({type:t}),t.\u0275inj=b({imports:[F.forChild(Ae),F]});let i=t;return i})();var kt=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=y({type:t}),t.\u0275inj=b({imports:[z,Ee,Z,Se,be,ye,xe,ae,se]});let i=t;return i})();export{kt as ProfileModule};
