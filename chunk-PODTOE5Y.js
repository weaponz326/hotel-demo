import{a as R}from"./chunk-6TRWRYDX.js";import{a as B,b as Q,c as k,d as N,e as O}from"./chunk-3OLZPOF4.js";import{F as T,Ga as V,K as m,L as p,Q as h,R as C,V as r,W as I,Za as A,_a as M,aa as L,ba as b,ca as o,cb as P,ja as i,ka as n,la as f,ma as F,na as u,oa as w,ta as D,ua as y,va as E,xa as g,ya as _}from"./chunk-TK5UYZ3D.js";var q=["openButtonElementReference"],H=["closeButtonElementReference"];function $(a,s){if(a&1){let c=F();i(0,"tr",22),u("click",function(){let d=m(c).$implicit,e=w();return p(e.selectRow(d))}),i(1,"td"),g(2),n(),i(3,"td"),g(4),n(),i(5,"td"),g(6),n(),i(7,"td"),g(8),n()()}if(a&2){let c=s.$implicit;r(2),_(c.service_name),r(2),_(c.service_id),r(2),_(c.price),r(2),_(c.location)}}function j(a,s){if(a&1&&(i(0,"tr")(1,"td",23),f(2,"app-table-loader",24),n()()),a&2){let c=w();r(2),o("isLoading",c.isFetchingListData)("isNoData",c.isDataAvailable)}}var re=(()=>{let s=class s{constructor(t){this.serviceService=t,this.rowSelected=new C,this.closeTarget="",this.servicesListData=[],this.isFetchingListData=!1,this.isDataAvailable=!0,this.filterQuery="",this.pagination={currentPage:0,totalPages:0,totalItems:0},this.sorting={currentField:"created_at",currentDirection:"-"}}openModal(){this.servicesListData=[],this.getAllService(),this.openButton.nativeElement.click()}getAllService(){this.isFetchingListData=!0,this.serviceService.getAllHotelService().subscribe({next:t=>{console.log(t),this.servicesListData=t.results,this.pagination.currentPage=t.current_page,this.pagination.totalPages=t.total_pages,this.pagination.totalItems=t.count,this.isFetchingListData=!1,this.pagination.totalItems==0&&(this.isDataAvailable=!1)},error:t=>{console.log(t)}})}pageSelected(){this.getAllService()}columnSorted(t){console.log(t),this.sorting.currentField=t.field,this.sorting.currentDirection=t.direction,this.getAllService()}tableFiltered(t){this.filterQuery=t,this.getAllService()}selectRow(t){this.rowSelected.emit(t),this.closeButton.nativeElement.click(),console.log(t)}};s.\u0275fac=function(d){return new(d||s)(I(R))},s.\u0275cmp=T({type:s,selectors:[["app-select-service"]],viewQuery:function(d,e){if(d&1&&(D(q,5,h),D(H,5,h)),d&2){let l;y(l=E())&&(e.openButton=l.first),y(l=E())&&(e.closeButton=l.first)}},inputs:{closeTarget:"closeTarget"},outputs:{rowSelected:"rowSelected"},standalone:!0,features:[V],decls:32,vars:26,consts:[["openButtonElementReference",""],["closeButtonElementReference",""],["data-bs-toggle","modal","data-bs-target","#selectServiceModal",3,"hidden"],["id","selectServiceModal","tabindex","-1","aria-labelledby","selectServiceModalLabel","aria-hidden","true",1,"modal","fade","select-table-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","selectServiceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","data-bs-toggle","modal",1,"btn-close"],[1,"modal-body"],[1,"d-inline-block","w-100","mb-2"],[3,"tableFiltered","placeholder"],[1,"table-responsive"],[1,"table","table-sm","table-hover","table-bordered"],["width","30%"],[3,"columnSorted","columnTitle","thisField","currentField","currentDirection"],["width","15%"],["width","20%"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageSelected","totalItems","currentPage"],["data-bs-dismiss","modal","data-bs-toggle","modal",3,"hidden"],[3,"click"],["colspan","4"],[3,"isLoading","isNoData"]],template:function(d,e){if(d&1){let l=F();i(0,"button",2,0),g(2,` Launch demo modal
`),n(),i(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),g(8,"Select Hotel Services"),n(),f(9,"button",8),n(),i(10,"div",9)(11,"div",10)(12,"app-table-filtering",11),u("tableFiltered",function(){return m(l),p(e.tableFiltered)}),n()(),i(13,"div",12)(14,"table",13)(15,"thead")(16,"tr")(17,"th",14)(18,"app-table-sorting",15),u("columnSorted",function(S){return m(l),p(e.columnSorted(S))}),n()(),i(19,"th",16)(20,"app-table-sorting",15),u("columnSorted",function(S){return m(l),p(e.columnSorted(S))}),n()(),i(21,"th",16)(22,"app-table-sorting",15),u("columnSorted",function(S){return m(l),p(e.columnSorted(S))}),n()(),i(23,"th",17)(24,"app-table-sorting",15),u("columnSorted",function(S){return m(l),p(e.columnSorted(S))}),n()()()(),i(25,"tbody"),L(26,$,9,4,"tr",18)(27,j,3,2,"tr",19),n()()(),i(28,"app-table-pagination",20),u("pageSelected",function(){return m(l),p(e.pageSelected())}),n()(),i(29,"button",21,1),g(31," Launch demo modal "),n()()()()}d&2&&(o("hidden",!0),r(9),b("data-bs-target",e.closeTarget),r(3),o("placeholder","Search Services"),r(6),o("columnTitle","Service Name")("thisField","service_name")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),r(2),o("columnTitle","Service ID")("thisField","service_id")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),r(2),o("columnTitle","Price")("thisField","price")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),r(2),o("columnTitle","Location")("thisField","location")("currentField",e.sorting.currentField)("currentDirection",e.sorting.currentDirection),r(2),o("ngForOf",e.servicesListData),r(),o("ngIf",e.isFetchingListData||!e.isDataAvailable),r(),o("totalItems",e.pagination.totalItems)("currentPage",e.pagination.currentPage)("totalItems",e.pagination.totalItems),r(),o("hidden",!0),b("data-bs-target",e.closeTarget))},dependencies:[P,A,M,O,Q,k,N,B]});let a=s;return a})();export{re as a};
